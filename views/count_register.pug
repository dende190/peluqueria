extends layout_dashboard
append styles
    link(rel="stylesheet", href="/static/css/count_register.css")
block content
    .col-lg-8.mx-auto
        .card
            .card-body
                .row
                    .col-lg-6
                        .container-coins.d-flex.flex-column.align-items-center
                            h5 Monedas
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $50
                                    .col-sm-3.p-0
                                        input.coin.form-control(type="number" data-price="50")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $100
                                    .col-sm-3.p-0
                                        input.coin.form-control(type="number" data-price="100")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $200
                                    .col-sm-3.p-0
                                        input.coin.form-control(type="number" data-price="200")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $500
                                    .col-sm-3.p-0
                                        input.coin.form-control(type="number" data-price="500")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $1.000
                                    .col-sm-3.p-0
                                        input.coin.form-control(type="number" data-price="1000")
                    .col-lg-6
                        .container-coins.d-flex.flex-column.align-items-center
                            h5 Billetes
                            .form-coin-group
                                .row.align-items-center.justify-content-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $1.000
                                    .col-sm-3.p-0
                                        input.bill.form-control(type="number" data-price="1000")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $2.000
                                    .col-sm-3.p-0
                                        input.bill.form-control(type="number" data-price="2000")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $5.000
                                    .col-sm-3.p-0
                                        input.bill.form-control(type="number" data-price="5000")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $10.000
                                    .col-sm-3.p-0
                                        input.bill.form-control(type="number" data-price="10000")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $20.000
                                    .col-sm-3.p-0
                                        input.bill.form-control(type="number" data-price="20000")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $50.000
                                    .col-sm-3.p-0
                                        input.bill.form-control(type="number" data-price="50000")
                            .form-coin-group
                                .row.align-items-center.justify-content-center
                                    label.label-coin.text-center.mr-2 $100.000
                                    .col-sm-3.p-0
                                        input.bill.form-control(type="number" data-price="100000")
                    .col-lg-12.d-flex.container-total
                        .total-register
                            p Dinero en monedas
                            p
                                | $
                                span#totalCoins 0
                        .total-register
                            p Dinero en Billetes
                            p
                                | $
                                span#totalBills 0
                        .total-register
                            p Total
                            p
                                | $
                                span#totalRegister 0
append scripts 
    script.
        function updateTotal(inputClass) {
            let total = 0
            $(`.${inputClass}`).each(function(){
                if($(this).val()) {
                    total += parseInt($(this).attr('data-price')) * parseInt($(this).val())
                }
            })
            return total
        }

        $('.coin').on("input", function(){
            let total = updateTotal("coin")
            $('#totalCoins').html(total.toLocaleString())
            $('#totalRegister').html( (parseInt($("#totalBills").text()) + total).toLocaleString() )
        })
        $('.bill').on("input", function(){
            let total = updateTotal("bill")
            $('#totalBills').html(total.toLocaleString())
            $('#totalRegister').html( (parseInt($("#totalCoins").text()) + total).toLocaleString() )
        })
